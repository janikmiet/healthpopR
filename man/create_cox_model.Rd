% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cox_analysis.R
\name{create_cox_model}
\alias{create_cox_model}
\title{Create a Cox Proportional Hazards Model with Splines and Covariates}
\usage{
create_cox_model(
  data,
  normal_vars = c("edu"),
  spline_vars = c("age_bs", "bmi"),
  surv_formula = "Surv(tstart, tstop, diagnose) ~ exposure",
  id_var = "ID"
)
}
\arguments{
\item{data}{A data frame containing the variables required for the model, including survival time variables and covariates.}

\item{normal_vars}{A character vector of covariate names to be included as standard (non-spline) variables in the model (e.g., `"edu"`).}

\item{spline_vars}{A character vector of continuous variables for which natural cubic splines will be used (via `splines::bs()`).}

\item{surv_formula}{A character string specifying the survival outcome in `Surv()` notation.
Currently not parsed dynamically; the function uses `Surv(tstart, tstop, diagnose)` internally.}

\item{id_var}{A string giving the column name for individual-level IDs to be used in the `coxph()` call.}
}
\value{
An object of class `coxph` representing the fitted Cox proportional hazards model.
}
\description{
Constructs a Cox model using a survival formula and allows for the inclusion of
both regular covariates and spline-transformed continuous variables.
}
\details{
- The function validates variable presence and ensures spline variables are not entirely missing (`NA`).
- Splines are applied using `splines::bs()` to the specified `spline_vars`.
- The survival object is internally defined as `Surv(tstart, tstop, diagnose)`.
}
\examples{
\dontrun{
model <- create_cox_model(
  data = cox_base,
  normal_vars = c("edu"),
  spline_vars = c("age_bs", "bmi")
)
summary(model)
}

}
