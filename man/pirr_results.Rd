% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/poisson_analysis.R
\name{pirr_results}
\alias{pirr_results}
\title{Run PIRR-style modeling and summary plots for multiple binary outcomes}
\usage{
pirr_results(adat, colors = c("#5BC0DE", "#D9534F"), limits = c(0.3, 3))
}
\arguments{
\item{adat}{A data frame containing the data. Must include columns `Age`, `caika`, `pyrs`,
`cever`, and at least one binary outcome variable (e.g., disease flags). Created by function `pirr_data()`.}

\item{colors}{A character vector of two hex colors for plotting binary outcome levels
in the age vs exposure plots. Default is \code{c("#5BC0DE", "#D9534F")}.}

\item{limits}{A numeric vector of two values specifying the y-axis limits (log10 scale)
for the SIR plots. Default is \code{c(0.3, 3)}.}
}
\value{
A named list of results, one element per binary outcome variable. Each element
is a list containing:
\describe{
  \item{table}{A tibble with summary statistics and model predictions per level of `caika` and `cever`.}
  \item{plot1}{A ggplot object of the log-scale SIR across `caika` or `cever`.}
  \item{plot2}{A ggplot object showing adjusted exposure by Age and response status.}
}
}
\description{
This function runs Poisson regression models using splines for age and compares
effects over two time-related variables (`caika` and `cever`) for each binary outcome
variable found in the dataset. It returns model-based predictions, summary tables,
and plots for each outcome.
}
\details{
For each binary outcome, two Poisson regression models are fitted:
\itemize{
  \item One using `caika` (calendar period) as the main time variable
  \item One using `cever` (time since event or similar)
}
Both models adjust for age using restricted cubic splines and use log(pyrs) as offset.
Standard errors are heteroskedasticity-consistent (HC0). Predictions are made at Age = 70
and a base rate of 10,000 person-years.
}
\examples{
# Example usage with simulated data
# results <- pirr_results(adat = my_data)

}
