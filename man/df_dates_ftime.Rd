% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survival_advanced.R
\name{df_dates_ftime}
\alias{df_dates_ftime}
\title{Calculate follow-up time and event status from age 50}
\usage{
df_dates_ftime(df, censor_date = as.Date("2023-12-31"), end = DATE_EXPOSURE)
}
\arguments{
\item{df}{A data frame produced by \code{\link{df_dates_per_id}} containing
demographic and event dates.}

\item{censor_date}{Administrative censoring date. Defaults to
\code{as.Date("2023-12-31")}.}

\item{end}{A date variable indicating the endpoint of interest (e.g.
\code{DATE_EXPOSURE} or \code{DATE_RESPONSE}). Tidy-evaluated.}
}
\value{
A data frame with added variables:
  \describe{
    \item{ftime}{Follow-up time in days from age 50}
    \item{status}{Event status (0 = censored, 1 = event, 2 = death)}
  }
}
\description{
Computes follow-up time (\code{ftime}) and event status based on a specified
endpoint, death, or censoring. Time is measured from age 50 onward.
}
\details{
For each individual, the end of follow-up is defined as the earliest of:
\itemize{
  \item the specified endpoint (\code{end}),
  \item date of death,
  \item migration or administrative censoring.
}

Event status is coded as:
\describe{
  \item{1}{Endpoint event}
  \item{2}{Death before endpoint}
  \item{0}{Censored}
}

Follow-up times occurring before age 50 are set to zero.
}
\seealso{
\code{\link{df_dates_per_id}}
}
